(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4691"],{"4kVe":function(t,e,a){},BDBd:function(t,e,a){"use strict";var i=a("KqXy");a.n(i).a},CBPX:function(t,e,a){"use strict";var i=a("piJ4");a.n(i).a},CmVR:function(t,e,a){},"GJ+v":function(t,e,a){},Jd0r:function(t,e,a){},KqXy:function(t,e,a){},Mxfj:function(t,e,a){"use strict";var i=a("Jd0r");a.n(i).a},Tq5B:function(t,e,a){},XhwK:function(t,e,a){"use strict";a.d(e,"b",function(){return n}),a.d(e,"a",function(){return r}),a.d(e,"c",function(){return o}),a.d(e,"f",function(){return s}),a.d(e,"d",function(){return l}),a.d(e,"e",function(){return u}),a.d(e,"g",function(){return c});var i=a("t3Un");function n(t){var e=t;return Object(i.a)({url:"api/statistics/order",method:"post",data:e})}function r(t){var e=t;return Object(i.a)({url:"api/statistics/custome",method:"post",data:e})}function o(t){var e=t;return Object(i.a)({url:"api/statistics/part",method:"post",data:e})}function s(t){var e=t;return Object(i.a)({url:"api/statistics/order",method:"post",data:e})}function l(t){var e=t;return Object(i.a)({url:"api/statistics/custome",method:"post",data:e})}function u(t){var e=t;return Object(i.a)({url:"api/statistics/info",method:"post",data:e})}function c(t){var e=t;return Object(i.a)({url:"api/statistics/after",method:"post",data:e})}},ac2h:function(t,e,a){"use strict";a.d(e,"a",function(){return n}),a.d(e,"i",function(){return r}),a.d(e,"c",function(){return o}),a.d(e,"k",function(){return s}),a.d(e,"j",function(){return l}),a.d(e,"d",function(){return u}),a.d(e,"g",function(){return c}),a.d(e,"f",function(){return d}),a.d(e,"m",function(){return h}),a.d(e,"l",function(){return p}),a.d(e,"n",function(){return m}),a.d(e,"o",function(){return f}),a.d(e,"e",function(){return v}),a.d(e,"h",function(){return g}),a.d(e,"b",function(){return _}),a.d(e,"p",function(){return b}),a.d(e,"q",function(){return y});var i=a("t3Un");function n(t){return Object(i.a)({url:"api/sales/order/customlist",method:"get",params:t})}function r(t){return Object(i.a)({url:"api/sales/order/customlinkman/"+t,method:"get",params:""})}function o(t){return Object(i.a)({url:"api/sales/order/depusers/",method:"get",params:t})}function s(t){var e=t;return Object(i.a)({url:"api/sales/order/add",method:"post",data:e})}function l(t,e){return Object(i.a)({url:"api/sales/material/list/"+t,method:"get",params:e})}function u(t,e){return Object(i.a)({url:"api/sales/equipment/list/"+t,method:"get",params:e})}function c(t,e){return Object(i.a)({url:"api/sales/order/quotation/"+t,method:"get",params:e})}function d(t){return Object(i.a)({url:"api/sales/order/list",method:"get",params:t})}function h(t,e){var a=e;return Object(i.a)({url:"api/sales/order/edit/"+t,method:"post",data:a})}function p(t,e){return Object(i.a)({url:"api/sales/order/del/"+t,method:"get",params:e})}function m(t){var e=t;return Object(i.a)({url:"api/sales/order/quotation/chack",method:"post",data:e})}function f(t,e){var a=e;return Object(i.a)({url:"api/sales/order/quotation/update/"+t,method:"post",data:a})}function v(t){var e=t;return Object(i.a)({url:"api/sales/order/quotation/updateqrurl",method:"post",data:e})}function g(t){var e=t;return Object(i.a)({url:"api/sales/fastorder/add",method:"post",data:e})}function _(t){var e=t;return Object(i.a)({url:"api/fastorder/get",method:"post",data:e})}function b(t){var e=t;return Object(i.a)({url:"api/sales/order/reistparts",method:"post",data:e})}function y(t){var e=t;return Object(i.a)({url:"api/sales/order/reloadorder",method:"post",data:e})}},c510:function(t,e,a){"use strict";var i=a("mGkV");a.n(i).a},dvJs:function(t,e,a){"use strict";var i=a("Tq5B");a.n(i).a},i5Nf:function(t,e,a){"use strict";var i=a("GJ+v");a.n(i).a},jAVV:function(t,e,a){"use strict";var i=a("4kVe");a.n(i).a},lAbF:function(t,e,a){"use strict";a.r(e);var i=a("FyfS"),n=a.n(i),r=a("GQeE"),o=a.n(r),s=a("QbLZ"),l=a.n(s),u=a("L2JU"),c=a("P2sY"),d=a.n(c),h=(a("i5Nf"),a("KHd+")),p=Object(h.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"github-corner",attrs:{href:"https://github.com/PanJiaChen/vue-element-admin",target:"_blank","aria-label":"View source on Github"}},[e("svg",{staticStyle:{fill:"#40c9c6",color:"#fff"},attrs:{width:"80",height:"80",viewBox:"0 0 250 250","aria-hidden":"true"}},[e("path",{attrs:{d:"M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"}}),this._v(" "),e("path",{staticClass:"octo-arm",staticStyle:{"transform-origin":"130px 106px"},attrs:{d:"M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2",fill:"currentColor"}}),this._v(" "),e("path",{staticClass:"octo-body",attrs:{d:"M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z",fill:"currentColor"}})])])},[],!1,null,"67275e8c",null);p.options.__file="index.vue";var m,f,v,g,_,b=p.exports,y=a("gDS+"),x=a.n(y),w=a("7BsA"),k=a.n(w),S=a("XhwK"),D=a("lD00"),C=a("ac2h"),E=a("uXAG"),O={data:function(){return{kusuPath:"",kusuOrderShengshow:!1,orderNum:"",customerNum:"",partNum:"",pc:!1,mo:!1,showKuSu:!1,kusuStatus:2,uploadLoading:!1,materialAllList:[],kusupartArr:[],kusupartshowTitle:"添加零件",kusuAllprice:0,qiyuShow:!1,qiyuData:{},kusuData:{},kusuaddpartshow:!1,orderCurNum:"",customerCurNum:"",partCurNum:""}},components:{CountTo:k.a},methods:{tofixeds:function(t,e,a){var i=Number(Number(t).toFixed(2));this.$set(e,a,i),this.kusuAllJSPrice()},handleSetLineChartData:function(t){this.$router.push("/count/index")},kusuPathSure:function(){this.kusuOrderShengshow=!1,window.location.href=this.kusuPath},formatTooltip:function(t){return t/10},initAllMateria:function(){var t=this;Object(D.d)().then(function(e){t.materialAllList=[];e.data;var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value,u=parseFloat(Number(l.price).toFixed(2)),c={};c.price=l.price*l.density,c.label=l.name+" (￥"+u+"/g )",c.value=l.id,t.materialAllList.push(c)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}}).catch(function(t){console.log(t),console.log("获取材质列表失败")})},kusuSelectMate:function(t){var e=!0,a=!1,i=void 0;try{for(var r,o=n()(this.materialAllList);!(e=(r=o.next()).done);e=!0){var s=r.value;s.value==t&&(this.kusuData.price=s.price,this.kusuData.matname=s.label)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}},showKuSuClick:function(){this.showKuSu=!0,this.kusupartArr=[],this.qiyuShow=!1,this.qiyuData={taxation:0,freight:0}},kusuaddpartSure:function(){this.kusuData.material_id?this.kusuData.product_num&&this.kusuData.product_num>=1?String(this.kusuData.product_num).indexOf(".")<0?("添加零件"==this.kusupartshowTitle?(this.kusupartArr.push(this.kusuData),this.kusuaddpartshow=!1,this.kusuAllJSPrice()):(this.kusuaddpartshow=!1,this.kusuAllJSPrice()),this.qiyuShow=!0):this.$toast("零件数量要为整数"):this.$toast("请输入数量,最小为1"):this.$toast("请选择材质")},kusupartEdit:function(t){this.kusuData=t,this.kusuaddpartshow=!0,this.kusupartshowTitle="修改零件"},kusupartDel:function(t,e){var a=this;this.$dialog.confirm({title:"提示",message:"你确定要删掉该零件"}).then(function(){a.kusupartArr.splice(e,1),a.kusuAllJSPrice()}).catch(function(){})},kusuAllJSPrice:function(){this.qiyuData.taxation&&this.qiyuData.taxation>0||(this.qiyuData.taxation=0),this.qiyuData.freight&&this.qiyuData.freight>0||(this.qiyuData.freight=0),this.kusuAllprice=0;var t=!0,e=!1,a=void 0;try{for(var i,r=n()(this.kusupartArr);!(t=(i=r.next()).done);t=!0){var o=i.value,s=(Number(o.volume_size.volume)*Number(o.price)*Number(o.coefficient/10)/1e3).toFixed(2)*Number(o.product_num);this.kusuAllprice+=s}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}this.qiyuData&&(this.qiyuData.taxation&&(this.kusuAllprice=Number(this.qiyuData.taxation)+Number(this.kusuAllprice)),this.qiyuData.freight&&(this.kusuAllprice=Number(this.qiyuData.freight)+Number(this.kusuAllprice))),this.kusuAllprice=parseFloat(this.kusuAllprice.toFixed(2))},kusuBaojiadan:function(){var t=this,e={};(e=this.qiyuData).parts=JSON.parse(x()(this.kusupartArr));var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.parts);!(a=(o=s.next()).done);a=!0){var l=o.value;l.price=Number((Number(l.price)*Number(l.volume_size.volume)*Number(l.coefficient/10)/1e3).toFixed(2))}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}var u=this.$loading({lock:!0,text:"提交中，请等待",spinner:"el-icon-loading",background:"rgba(255, 255, 255, 1)",target:document.querySelector(".kusuOrderB")});Object(C.h)(e).then(function(e){t.kusuOrderShengshow=!0,t.kusuPath=e.data.path,t.$toast.success("报价单生成成功"),t.showKuSu=!1,u.close()}).catch(function(e){u.close(),t.$toast({message:e.response.data.message,type:"warning"})})},addOne:function(t){t.product_num=Number(t.product_num),t.product_num=t.product_num+1,this.kusuAllJSPrice()},reduceOne:function(t){t.product_num=Number(t.product_num),t.product_num=t.product_num-1,t.product_num<=0&&(t.product_num=1,this.$toast("最小值为1")),this.kusuAllJSPrice()},stlStartS:function(t){this.kusuStatus=t,this.kusupartshowTitle="添加零件";var e=document.getElementById("stlFile2");document.getElementById("stlFile2").value=null,e.click()},selectDate:function(){},stlStart:function(t){var e=(t.target||window.event.srcElement).value;if("stl"==e.substring(e.lastIndexOf(".")+1))if((_=document.getElementById("stlFile2").files[0]).size/1024<=51200){var a=_.name.split(".")[0];this.kusuData={},this.$set(this.kusuData,"name",a),this.$set(this.kusuData,"product_num",1);var i=this.materialAllList[0].value;this.$set(this.kusuData,"material_id",i),this.kusuSelectMate(i),this.initStl()}else this.$toast("文件要小于50MB");else alert("请选择STL格式文件！")},initStl:function(){this.uploadLoading=!0,(m=0==z?new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e4):new THREE.PerspectiveCamera(P,800/600,1.5,1e4)).position.set(F,N,j),m.up.set(L,B,H),f=new THREE.Vector3(T,A,$),m.lookAt(f),(v=new THREE.Scene).fog=new THREE.Fog(16777215,1,1e4);var t=this;(new THREE.STLLoader).load(_,function(e){e.computeBoundingBox(),e.center();for(var a=new THREE.MeshPhongMaterial({color:8421504,specular:1118481,shininess:200}),i=new THREE.Mesh(e,a),n=0,r=(new THREE.Geometry).fromBufferGeometry(i.geometry),o=0;o<r.faces.length;o++){var s=r.faces[o].a,l=r.faces[o].b,u=r.faces[o].c,c=new THREE.Vector3(r.vertices[s].x,r.vertices[s].y,r.vertices[s].z),d=new THREE.Vector3(r.vertices[l].x,r.vertices[l].y,r.vertices[l].z),h=new THREE.Vector3(r.vertices[u].x,r.vertices[u].y,r.vertices[u].z);new THREE.Triangle(h,d,c);n+=M(h,d,c)}var p,g,_;p=e.boundingBox.max.x-e.boundingBox.min.x,g=e.boundingBox.max.y-e.boundingBox.min.y,_=e.boundingBox.max.z-e.boundingBox.min.z;var b=parseInt(g),y=parseInt(p),x=parseInt(_),w=Math.abs(parseInt(n)),k={xx:y,yy:b,zz:x,volume:w},S="长:"+y+"mm  宽:"+x+"mm  高:"+b+"mm",D=w+"mm³";t.$set(t.kusuData,"volume_size1",S),t.$set(t.kusuData,"volume_size2",D),t.$set(t.kusuData,"volume_size",k);i.castShadow=!0,i.receiveShadow=!0,v.add(i),function(t,e,a,i){var n=Math.max(3*i.boundingBox.max.x,3*i.boundingBox.max.y,3*i.boundingBox.max.z);(m=new THREE.PerspectiveCamera(45,4/3,.1,1e4)).position.set(0,0,n),m.up.set(1,0,1),m.up.set(L,B,H),f=new THREE.Vector3(T,A,$),m.lookAt(f)}(0,0,0,e),t.animate()}),v.add(new THREE.AmbientLight(3355443)),R(-1,1,1,16777215,1.35),R(1,-1,-1,16777215,1),(g=new THREE.WebGLRenderer({antialias:!0})).setClearColor(v.fog.color),g.setSize(800,600),g.gammaInput=!0,g.gammaOutput=!0,g.shadowMapEnabled=!0,g.shadowMapCullFace=THREE.CullFaceBack;new THREE.OrbitControls(m,g.domElement);window.addEventListener("resize",I,!1)},animate:function(){q(this)},seePicture:function(t){Object(E.a)({images:[t],asyncClose:!0})}},mounted:function(){var t=this;this.initAllMateria(),/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)?(this.pc=!1,this.mo=!0):(this.pc=!0,this.mo=!1),Object(S.b)().then(function(e){t.orderNum=Number(e.data.num)}).catch(function(t){}),Object(S.a)().then(function(e){t.customerNum=Number(e.data.num)}).catch(function(t){}),Object(S.c)().then(function(e){t.partNum=Number(e.data.num)}).catch(function(t){});var e={type:"todaycount"};Object(S.b)(e).then(function(e){t.orderCurNum=Number(e.data.num)}).catch(function(t){}),Object(S.a)(e).then(function(e){t.customerCurNum=Number(e.data.num)}).catch(function(t){}),Object(S.c)(e).then(function(e){t.partCurNum=Number(e.data.num)}).catch(function(t){})}},z=1,P=45,F=200,N=200,j=200,T=0,A=0,$=0,L=0,B=1,H=0;function M(t,e,a){return 1/6*(t.x*e.y*a.z+a.x*t.y*e.z+e.x*a.y*t.z-a.x*e.y*t.z-e.x*t.y*a.z-t.x*a.y*e.z)}function R(t,e,a,i,n){var r=new THREE.DirectionalLight(i,n);r.position.set(t,e,a),v.add(r)}function I(){m.aspect=window.innerWidth/window.innerHeight,m.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight)}function q(t){t.uploadLoading=!1;var e=new Image;g.render(v,m);var a=g.domElement.toDataURL("image/jpeg");e.src=a,a,t.kusuData.diagram=a,t.kusuaddpartshow=!0,g.render(v,m)}var V=O,K=(a("c510"),Object(h.a)(V,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[t.mo?a("el-row",{staticStyle:{"margin-left":"20px","margin-bottom":"15px"}},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.showKuSuClick}},[t._v("快速生成报价单")])],1):t._e(),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",style:{backgroundColor:t.mo?"#66ccff":"#ffffff"},on:{click:function(e){t.handleSetLineChartData("newVisitis")}}},[t.pc?a("div",{staticClass:"card-panel-icon-wrapper icon-list"},[a("svg-icon",{attrs:{"icon-class":"list","class-name":"card-panel-icon"}})],1):t._e(),t._v(" "),t.pc?a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text",staticStyle:{"margin-bottom":"5px"}},[t._v("订单数量")]),t._v(" "),a("div",{staticStyle:{"font-size":"16px",color:"#666"}},[t._v(t._s(t.orderNum)+" (合计)")]),t._v(" "),a("div",{staticStyle:{"font-size":"16px",color:"#666","margin-top":"5px"}},[t._v(t._s(t.orderCurNum)+" (当天)")])]):t._e(),t._v(" "),t.mo?a("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"20px"}},[a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF"}},[t._v("订单数量")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.orderNum)+" (合计)")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.orderCurNum)+" (当天)")])]):t._e()])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",style:{backgroundColor:t.mo?"#66ccff":"#ffffff"},on:{click:function(e){t.handleSetLineChartData("messages")}}},[t.pc?a("div",{staticClass:"card-panel-icon-wrapper icon-people"},[a("svg-icon",{attrs:{"icon-class":"peoples","class-name":"card-panel-icon"}})],1):t._e(),t._v(" "),t.pc?a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text",staticStyle:{"margin-bottom":"5px"}},[t._v("客户数量")]),t._v(" "),a("div",{staticClass:"card-panel-text",staticStyle:{"font-size":"16px",color:"#666","margin-bottom":"5px"}},[t._v(t._s(t.customerNum)+" (合计)")]),t._v(" "),a("div",{staticClass:"card-panel-text",staticStyle:{"font-size":"16px",color:"#666","margin-bottom":"0"}},[t._v(t._s(t.customerCurNum)+" (当天)")])]):t._e(),t._v(" "),t.mo?a("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"20px"}},[a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF"}},[t._v("客户数量")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.customerNum)+" (合计)")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.customerCurNum)+" (当天)")])]):t._e()])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:12,sm:12,lg:6}},[a("div",{staticClass:"card-panel",style:{backgroundColor:t.mo?"#66ccff":"#ffffff"},on:{click:function(e){t.handleSetLineChartData("purchases")}}},[t.pc?a("div",{staticClass:"card-panel-icon-wrapper icon-example"},[a("svg-icon",{attrs:{"icon-class":"example","class-name":"card-panel-icon"}})],1):t._e(),t._v(" "),t.pc?a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text",staticStyle:{"margin-bottom":"5px"}},[t._v("零件数量")]),t._v(" "),a("div",{staticClass:"card-panel-text",staticStyle:{"font-size":"16px",color:"#666","margin-bottom":"5px"}},[t._v(t._s(t.partNum)+" (合计)")]),t._v(" "),a("div",{staticClass:"card-panel-text",staticStyle:{"font-size":"16px",color:"#666","margin-bottom":"0"}},[t._v(t._s(t.partCurNum)+" (当天)")])]):t._e(),t._v(" "),t.mo?a("div",{staticStyle:{"text-align":"center",width:"100%","margin-top":"20px"}},[a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF"}},[t._v("零件数量")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.partNum)+" (合计)")]),t._v(" "),a("div",{staticStyle:{"font-size":"18px",color:"#FFFFFF","margin-top":"5px"}},[t._v(t._s(t.partCurNum)+" (当天)")])]):t._e()])]),t._v(" "),a("div",{staticClass:"quanping"},[a("van-actionsheet",{attrs:{title:"报价单"},model:{value:t.showKuSu,callback:function(e){t.showKuSu=e},expression:"showKuSu"}},[a("div",{staticStyle:{position:"relative"}},[t.uploadLoading?a("div",{staticStyle:{position:"absolute","z-index":"100",height:"100%",width:"100%",top:"120px",display:"flex","align-items":"center","justify-content":"center"}},[a("div",{staticStyle:{display:"flex","justify-content":"center","align-items":"center","background-color":"rgba(0,0,0,0.7)",padding:"20px","border-radius":"5px"}},[a("van-loading",{attrs:{type:"spinner",size:"40px"}}),t._v("  "),a("p",{staticStyle:{color:"#ffffff","vertical-align":"middle",padding:"0"}},[t._v("加载stl中")])],1)]):t._e(),t._v(" "),a("input",{staticStyle:{display:"none"},attrs:{type:"file",id:"stlFile2"},on:{change:function(e){t.stlStart(e)}}}),t._v(" "),a("div",{staticStyle:{"text-align":"center","margin-bottom":"15px","margin-top":"15px"}},[t._v("零件列表")]),t._v(" "),t._l(t.kusupartArr,function(e,i){return a("div",{staticStyle:{width:"94%",margin:"0 auto 15px",border:"1px solid #d6d6d6",padding:"5px","background-color":"#eeeeee"}},[a("van-row",[a("van-col",{attrs:{span:8}},[a("img",{staticStyle:{width:"100%",border:"1px solid #d6d6d6"},attrs:{src:e.diagram,alt:""},on:{click:function(a){t.seePicture(e.diagram)}}})]),t._v(" "),a("van-col",{staticStyle:{"padding-left":"10px"},attrs:{span:16}},[a("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.2rem"}},[t._v(t._s(e.name))]),t._v(" "),a("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.2rem"}},[t._v(t._s(e.matname))]),t._v(" "),a("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.2rem","word-wrap":"break-word","word-break":"break-all"}},[t._v(t._s(e.volume_size1)+" ")]),t._v(" "),a("div",{staticStyle:{"font-size":"0.9rem","line-height":"1.2rem"}},[t._v("体积 :"+t._s(e.volume_size2))])])],1),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%","align-items":"center","border-bottom":"1px solid #d6d6d6","margin-bottom":"8px","padding-bottom":"5px","line-height":"1.5rem"}},[a("span",{staticStyle:{"font-size":"1rem","line-height":"1.2rem"}},[t._v("单价(元):\n\t\t\t\t\t\t\t\t"+t._s(parseFloat(Number(e.price)*Number(e.volume_size.volume)*Number(t.kusuData.coefficient/10)/1e3).toFixed(2))+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("span",[t._v("数量  "),a("i",{staticClass:"el-icon-remove",staticStyle:{color:"#1478F0","font-size":"1.2rem"},on:{click:function(a){t.reduceOne(e)}}}),t._v(" "+t._s(e.product_num)+" "),a("i",{staticClass:"el-icon-circle-plus",staticStyle:{color:"#1478F0","font-size":"1.2rem"},on:{click:function(a){t.addOne(e)}}})])]),t._v(" "),a("div",{staticStyle:{display:"flex","justify-content":"space-between",width:"100%","align-items":"center"}},[a("span",{staticStyle:{"font-size":"1rem","line-height":"1.2rem"}},[t._v("小计:\n\t\t\t\t\t\t\t\t"+t._s((parseFloat(Number(e.price)*Number(e.volume_size.volume)*Number(t.kusuData.coefficient/10)/1e3).toFixed(2)*Number(e.product_num)).toFixed(2))+"\n\t\t\t\t\t\t\t\t")]),t._v(" "),a("span",[a("i",{staticClass:"el-icon-edit",staticStyle:{"font-size":"1.2rem",color:"#008800"},on:{click:function(a){t.kusupartEdit(e)}}}),t._v("      \n\t\t\t\t\t\t\t\t"),a("i",{staticClass:"el-icon-delete",staticStyle:{"font-size":"1.2rem",color:"#f56c6c"},on:{click:function(a){t.kusupartDel(e,i)}}}),t._v("    ")])])],1)}),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.stlStartS(2)}}},[t._v("添加零件(stl)")])],1),t._v(" "),t.qiyuShow?a("div",[a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"94%",margin:"15px auto"}},[t._v("\n\t\t\t\t\t\t\t 税费(元)  "),a("el-input",{staticStyle:{width:"180px"},attrs:{type:"number",placeholder:"请输入数量"},on:{change:function(e){t.tofixeds(e,t.qiyuData,"taxation")}},model:{value:t.qiyuData.taxation,callback:function(e){t.$set(t.qiyuData,"taxation",e)},expression:"qiyuData.taxation"}})],1),t._v(" "),a("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start",width:"94%",margin:"0 auto"}},[t._v("\n\t\t\t\t\t\t\t 运费(元)  "),a("el-input",{staticStyle:{width:"180px"},attrs:{type:"number",placeholder:"请输入数量"},on:{change:function(e){t.tofixeds(e,t.qiyuData,"freight")}},model:{value:t.qiyuData.freight,callback:function(e){t.$set(t.qiyuData,"freight",e)},expression:"qiyuData.freight"}})],1)]):t._e(),t._v(" "),a("div",{staticStyle:{height:"2.5rem"}}),t._v(" "),a("div",{staticClass:"kusuOrderB",staticStyle:{background:"#FFFFFF",position:"fixed",bottom:"0",height:"2.5rem","line-height":"2.5rem","border-top":"1px solid #d6d6d6",width:"100%",display:"flex","justify-content":"space-between"}},[a("span",[t._v("  合计 : "+t._s(t.kusuAllprice.toFixed(2)))]),t._v(" "),a("span",{staticStyle:{height:"2.5rem",background:"#409EFF",padding:"0 10px",color:"#FFFFFF"},on:{click:t.kusuBaojiadan}},[t._v("生成报价单")])])],2)])],1),t._v(" "),a("div",{staticClass:"quanping"},[a("van-actionsheet",{attrs:{title:t.kusupartshowTitle},model:{value:t.kusuaddpartshow,callback:function(e){t.kusuaddpartshow=e},expression:"kusuaddpartshow"}},[a("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[a("img",{staticStyle:{border:"1px solid #d6d6d6",width:"85%",padding:"1px"},attrs:{src:t.kusuData.diagram,alt:""},on:{click:function(e){t.seePicture(t.kusuData.diagram)}}})]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("名称")]),t._v(" "),a("span",[a("el-input",{staticStyle:{width:"190px"},attrs:{placeholder:"请输入名称"},model:{value:t.kusuData.name,callback:function(e){t.$set(t.kusuData,"name",e)},expression:"kusuData.name"}})],1)]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("尺寸")]),t._v(" "),a("span",[t._v(t._s(t.kusuData.volume_size1))])]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("体积")]),t._v(" "),a("span",[t._v("体积 : "+t._s(t.kusuData.volume_size2))])]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("材质")]),t._v(" "),a("el-select",{staticStyle:{width:"190px"},attrs:{placeholder:"成型材质"},on:{change:t.kusuSelectMate},model:{value:t.kusuData.material_id,callback:function(e){t.$set(t.kusuData,"material_id",e)},expression:"kusuData.material_id"}},t._l(t.materialAllList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("数量")]),t._v(" "),a("el-input",{staticStyle:{width:"190px"},attrs:{type:"number",placeholder:"请输入数量"},model:{value:t.kusuData.product_num,callback:function(e){t.$set(t.kusuData,"product_num",e)},expression:"kusuData.product_num"}})],1),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("单价")]),t._v(" "),t.kusuData.volume_size?a("span",[t.kusuData.volume_size.volume&&t.kusuData.price?a("span",[t._v("\n\t\t\t\t\t\t\t"+t._s(parseFloat(Number(t.kusuData.price)*Number(t.kusuData.volume_size.volume)*Number(t.kusuData.coefficient/10)/1e3).toFixed(2))+"\n\t\t\t\t\t\t")]):t._e()]):t._e()]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("合计:")]),t._v(" "),t.kusuData.coefficient&&t.kusuData.product_num&&t.kusuData.price&&t.kusuData.volume_size.volume?a("span",[t._v("\n\t\t\t\t\t\t￥"+t._s((parseFloat(Number(t.kusuData.price)*Number(t.kusuData.volume_size.volume)*Number(t.kusuData.coefficient/10)/1e3).toFixed(2)*Number(t.kusuData.product_num)).toFixed(2))+"\n\t\t\t\t\t\t")]):t._e()]),t._v(" "),a("div",{staticClass:"kspdiv"},[a("span",[t._v("价格系数")]),t._v(" "),a("el-slider",{staticStyle:{width:"180px"},attrs:{"format-tooltip":t.formatTooltip,min:1,max:1e3},model:{value:t.kusuData.coefficient,callback:function(e){t.$set(t.kusuData,"coefficient",e)},expression:"kusuData.coefficient"}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"25px",margin:"15px","padding-right":"10px",display:"flex","justify-content":"flex-end"}},[a("el-button",{on:{click:function(e){t.kusuaddpartshow=!1}}},[t._v("取消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.kusuaddpartSure}},[t._v("确定")])],1)])],1),t._v(" "),a("div",{staticClass:"quanping"},[a("van-actionsheet",{attrs:{title:"报价单"},model:{value:t.kusuOrderShengshow,callback:function(e){t.kusuOrderShengshow=e},expression:"kusuOrderShengshow"}},[a("div",{staticStyle:{"text-align":"center",margin:"1.5rem auto","font-size":"1.5rem"}},[t._v("快速报价单已生成")]),t._v(" "),a("div",{staticStyle:{"text-align":"center",margin:"1.5rem auto","font-size":"1.2rem","line-height":"1.5rem"}},[t._v("\n\t\t\t\t 您的报价单已经生成"),a("br"),t._v("\n\t\t\t\t 点击下方按钮下载后查看或分享\n\t\t\t ")]),t._v(" "),a("div",{staticStyle:{"text-align":"center"}},[a("el-button",{attrs:{type:"success"},on:{click:t.kusuPathSure}},[t._v("下载 (查看) 报价单(pdf)")])],1),t._v(" "),a("div",{staticStyle:{width:"90%",margin:"2rem auto 0","line-height":"25px"}},[t._v("温馨提示：部分浏览器仅能查看(请将链接复制到其他浏览器，即可自动下载)")]),t._v(" "),a("div",{staticStyle:{position:"fixed",width:"100%",bottom:"25px",right:"10px",display:"flex","justify-content":"flex-end"}},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.kusuOrderShengshow=!1}}},[t._v("关闭")])],1)])],1)],1)},[],!1,null,"71cbaaf2",null));K.options.__file="PanelGroup.vue";var G,J=K.exports,W=a("YEIV"),X=a.n(W),Q=a("MT78"),U=a.n(Q),Y=a("7Qib"),Z=a("fe1z");a("gX0l");var tt=(G={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"350px"},autoResize:{type:Boolean,default:!0},chartData:{type:Object,required:!0}},data:function(){return{chart:null}},watch:{chartData:{deep:!0,handler:function(t){this.setOptions(t)}}},mounted:function(){var t=this;this.initHourseChart(),this.autoResize&&(this.__resizeHandler=Object(Y.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)),document.getElementsByClassName("sidebar-container")[0].addEventListener("transitionend",this.sidebarResizeHandler)},computed:{isDay:function(){return this.$store.state.stlData.dayStatus}}},X()(G,"watch",{isDay:function(t,e){"sevenday"==t?this.initSenvenChart():"today"==t?this.initHourseChart():this.initMonthChart()}}),X()(G,"beforeDestroy",function(){this.chart&&(this.autoResize&&window.removeEventListener("resize",this.__resizeHandler),document.getElementsByClassName("sidebar-container")[0].removeEventListener("transitionend",this.sidebarResizeHandler),this.chart.dispose(),this.chart=null)}),X()(G,"methods",{sidebarResizeHandler:function(t){"width"===t.propertyName&&this.__resizeHandler()},setOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.expectedData,a=t.actualData,i=t.dates;this.chart.setOption({xAxis:{data:i,boundaryGap:!1,axisTick:{show:!1}},grid:{left:10,right:35,bottom:20,top:50,containLabel:!0},tooltip:{trigger:"axis",axisPointer:{type:"cross"},padding:[5,10]},yAxis:{axisTick:{show:!1},minInterval:1},legend:{data:["新订单数量","新客户数量"]},series:[{name:"新订单数量",itemStyle:{normal:{color:"#FF005A",lineStyle:{color:"#FF005A",width:2}}},smooth:!0,type:"line",data:e,animationDuration:2800,animationEasing:"cubicInOut"},{name:"新客户数量",smooth:!0,type:"line",itemStyle:{normal:{color:"#40c9c6",lineStyle:{color:"#40c9c6",width:2},areaStyle:{color:"#f3f8ff"}}},data:a,animationDuration:2800,animationEasing:"quadraticOut"}]})},initSenvenChart:function(){var t=this;this.chart=U.a.init(this.$el,"macarons"),this.chartData.actualData=[],this.chartData.expectedData=[],this.chartData.dates=[];var e={type:"order"},a={type:"customer"};Object(Z.i)(e).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.dates.push(l.click_date),t.chartData.expectedData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.dates.reverse(),t.chartData.expectedData.reverse(),t.setOptions(t.chartData)}).catch(function(t){}),Object(Z.i)(a).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.actualData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.actualData.reverse(),t.setOptions(t.chartData)}).catch(function(t){})},initMonthChart:function(){var t=this;this.chart=U.a.init(this.$el,"macarons"),this.chartData.actualData=[],this.chartData.expectedData=[],this.chartData.dates=[];var e={type:"order"},a={type:"customer"};Object(Z.g)(e).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.dates.push(l.click_date),t.chartData.expectedData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.dates.reverse(),t.chartData.expectedData.reverse(),t.setOptions(t.chartData)}).catch(function(t){}),Object(Z.g)(a).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.actualData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.actualData.reverse(),t.setOptions(t.chartData)}).catch(function(t){})},initHourseChart:function(){var t=this;this.chart=U.a.init(this.$el,"macarons"),this.chartData.actualData=[],this.chartData.expectedData=[],this.chartData.dates=[];var e={type:"order"},a={type:"customer"};Object(Z.f)(e).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.dates.push(l.click_date),t.chartData.expectedData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.dates,t.chartData.expectedData,t.setOptions(t.chartData)}).catch(function(t){}),Object(Z.f)(a).then(function(e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value;t.chartData.actualData.push(l.count)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}t.chartData.actualData,t.setOptions(t.chartData)}).catch(function(t){})}}),G),et=Object(h.a)(tt,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);et.options.__file="LineChart.vue";var at=et.exports;a("gX0l");var it={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(Y.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=U.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},radar:{radius:"66%",center:["50%","42%"],splitNumber:8,splitArea:{areaStyle:{color:"rgba(127,95,132,.3)",opacity:1,shadowBlur:45,shadowColor:"rgba(0,0,0,.5)",shadowOffsetX:0,shadowOffsetY:15}},indicator:[{name:"Sales",max:1e4},{name:"Administration",max:2e4},{name:"Information Techology",max:2e4},{name:"Customer Support",max:2e4},{name:"Development",max:2e4},{name:"Marketing",max:2e4}]},legend:{left:"center",bottom:"10",data:["Allocated Budget","Expected Spending","Actual Spending"]},series:[{type:"radar",symbolSize:0,areaStyle:{normal:{shadowBlur:13,shadowColor:"rgba(0,0,0,.2)",shadowOffsetX:0,shadowOffsetY:10,opacity:1}},data:[{value:[5e3,7e3,12e3,11e3,15e3,14e3],name:"Allocated Budget"},{value:[4e3,9e3,15e3,15e3,13e3,11e3],name:"Expected Spending"},{value:[5500,11e3,12e3,15e3,12e3,12e3],name:"Actual Spending"}],animationDuration:3e3}]})}}},nt=Object(h.a)(it,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);nt.options.__file="RaddarChart.vue";var rt=nt.exports;a("gX0l");var ot={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(Y.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=U.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:["Industries","Technology","Forex","Gold","Forecasts"]},calculable:!0,series:[{name:"WEEKLY WRITE ARTICLES",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:[{value:320,name:"Industries"},{value:240,name:"Technology"},{value:149,name:"Forex"},{value:100,name:"Gold"},{value:59,name:"Forecasts"}],animationEasing:"cubicInOut",animationDuration:2600}]})}}},st=Object(h.a)(ot,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);st.options.__file="PieChart.vue";var lt=st.exports;a("gX0l");var ut={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"}},data:function(){return{chart:null}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(Y.a)(function(){t.chart&&t.chart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},beforeDestroy:function(){this.chart&&(window.removeEventListener("resize",this.__resizeHandler),this.chart.dispose(),this.chart=null)},methods:{initChart:function(){this.chart=U.a.init(this.$el,"macarons"),this.chart.setOption({tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:10,left:"2%",right:"2%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value",axisTick:{show:!1}}],series:[{name:"pageA",type:"bar",stack:"vistors",barWidth:"60%",data:[79,52,200,334,390,330,220],animationDuration:6e3},{name:"pageB",type:"bar",stack:"vistors",barWidth:"60%",data:[80,52,200,334,390,330,220],animationDuration:6e3},{name:"pageC",type:"bar",stack:"vistors",barWidth:"60%",data:[30,52,200,334,390,330,220],animationDuration:6e3}]})}}},ct=Object(h.a)(ut,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);ct.options.__file="BarChart.vue";var dt=ct.exports,ht=a("t3Un");var pt={filters:{statusFilter:function(t){return{success:"success",pending:"danger"}[t]},orderNoFilter:function(t){return t.substring(0,30)}},data:function(){return{list:null}},created:function(){this.fetchData()},methods:{fetchData:function(){var t=this;(function(t){return Object(ht.a)({url:"/transaction/list",method:"get",params:t})})().then(function(e){t.list=e.data.items.slice(0,8)})}}},mt=Object(h.a)(pt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-table",{staticStyle:{width:"100%","padding-top":"15px"},attrs:{data:t.list}},[a("el-table-column",{attrs:{label:"Order_No","min-width":"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      "+t._s(t._f("orderNoFilter")(e.row.order_no))+"\n    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Price",width:"195",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n      ¥"+t._s(t._f("toThousandFilter")(e.row.price))+"\n    ")]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"Status",width:"100",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tag",{attrs:{type:t._f("statusFilter")(e.row.status)}},[t._v(" "+t._s(e.row.status))])]}}])})],1)},[],!1,null,null,null);mt.options.__file="TransactionTable.vue";var ft=mt.exports,vt={name:"Todo",directives:{focus:function(t,e,a){var i=e.value,n=a.context;i&&n.$nextTick(function(){t.focus()})}},props:{todo:{type:Object,default:function(){return{}}}},data:function(){return{editing:!1}},methods:{deleteTodo:function(t){this.$emit("deleteTodo",t)},editTodo:function(t){var e=t.todo,a=t.value;this.$emit("editTodo",{todo:e,value:a})},toggleTodo:function(t){this.$emit("toggleTodo",t)},doneEdit:function(t){var e=t.target.value.trim(),a=this.todo;e?this.editing&&(this.editTodo({todo:a,value:e}),this.editing=!1):this.deleteTodo({todo:a})},cancelEdit:function(t){t.target.value=this.todo.text,this.editing=!1}}},gt=Object(h.a)(vt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("li",{staticClass:"todo",class:{completed:t.todo.done,editing:t.editing}},[a("div",{staticClass:"view"},[a("input",{staticClass:"toggle",attrs:{type:"checkbox"},domProps:{checked:t.todo.done},on:{change:function(e){t.toggleTodo(t.todo)}}}),t._v(" "),a("label",{domProps:{textContent:t._s(t.todo.text)},on:{dblclick:function(e){t.editing=!0}}}),t._v(" "),a("button",{staticClass:"destroy",on:{click:function(e){t.deleteTodo(t.todo)}}})]),t._v(" "),a("input",{directives:[{name:"focus",rawName:"v-focus",value:t.editing,expression:"editing"},{name:"show",rawName:"v-show",value:t.editing,expression:"editing"}],staticClass:"edit",domProps:{value:t.todo.text},on:{keyup:[function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.doneEdit(e):null},function(e){return"button"in e||!t._k(e.keyCode,"esc",27,e.key,"Escape")?t.cancelEdit(e):null}],blur:t.doneEdit}})])},[],!1,null,null,null);gt.options.__file="Todo.vue";var _t={all:function(t){return t},active:function(t){return t.filter(function(t){return!t.done})},completed:function(t){return t.filter(function(t){return t.done})}},bt=[{text:"star this repository",done:!1},{text:"fork this repository",done:!1},{text:"follow author",done:!1},{text:"vue-element-admin",done:!0},{text:"vue",done:!0},{text:"element-ui",done:!0},{text:"axios",done:!0},{text:"webpack",done:!0}],yt={components:{Todo:gt.exports},filters:{pluralize:function(t,e){return 1===t?e:e+"s"},capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)}},data:function(){return{visibility:"all",filters:_t,todos:bt}},computed:{allChecked:function(){return this.todos.every(function(t){return t.done})},filteredTodos:function(){return _t[this.visibility](this.todos)},remaining:function(){return this.todos.filter(function(t){return!t.done}).length}},methods:{setLocalStorage:function(){window.localStorage.setItem("todos",x()(this.todos))},addTodo:function(t){var e=t.target.value;e.trim()&&(this.todos.push({text:e,done:!1}),this.setLocalStorage()),t.target.value=""},toggleTodo:function(t){t.done=!t.done,this.setLocalStorage()},deleteTodo:function(t){this.todos.splice(this.todos.indexOf(t),1),this.setLocalStorage()},editTodo:function(t){var e=t.todo,a=t.value;e.text=a,this.setLocalStorage()},clearCompleted:function(){this.todos=this.todos.filter(function(t){return!t.done}),this.setLocalStorage()},toggleAll:function(t){var e=this,a=t.done;this.todos.forEach(function(t){t.done=a,e.setLocalStorage()})}}},xt=(a("dvJs"),Object(h.a)(yt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("section",{staticClass:"todoapp"},[a("header",{staticClass:"header"},[a("input",{staticClass:"new-todo",attrs:{autocomplete:"off",placeholder:"Todo List"},on:{keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.addTodo(e):null}}})]),t._v(" "),a("section",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"main"},[a("input",{staticClass:"toggle-all",attrs:{id:"toggle-all",type:"checkbox"},domProps:{checked:t.allChecked},on:{change:function(e){t.toggleAll({done:!t.allChecked})}}}),t._v(" "),a("label",{attrs:{for:"toggle-all"}}),t._v(" "),a("ul",{staticClass:"todo-list"},t._l(t.filteredTodos,function(e,i){return a("todo",{key:i,attrs:{todo:e},on:{toggleTodo:t.toggleTodo,editTodo:t.editTodo,deleteTodo:t.deleteTodo}})}))]),t._v(" "),a("footer",{directives:[{name:"show",rawName:"v-show",value:t.todos.length,expression:"todos.length"}],staticClass:"footer"},[a("span",{staticClass:"todo-count"},[a("strong",[t._v(t._s(t.remaining))]),t._v("\n      "+t._s(t._f("pluralize")(t.remaining,"item"))+" left\n    ")]),t._v(" "),a("ul",{staticClass:"filters"},t._l(t.filters,function(e,i){return a("li",{key:i},[a("a",{class:{selected:t.visibility===i},on:{click:function(e){e.preventDefault(),t.visibility=i}}},[t._v(t._s(t._f("capitalize")(i)))])])}))])])},[],!1,null,null,null));xt.options.__file="index.vue";var wt=xt.exports,kt={name:"PanThumb",props:{image:{type:String,required:!0},zIndex:{type:Number,default:1},width:{type:String,default:"150px"},height:{type:String,default:"150px"}}},St=(a("CBPX"),Object(h.a)(kt,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"pan-item",style:{zIndex:this.zIndex,height:this.height,width:this.width}},[e("div",{staticClass:"pan-info"},[e("div",{staticClass:"pan-info-roles-container"},[this._t("default")],2)]),this._v(" "),e("img",{staticClass:"pan-thumb",attrs:{src:this.image}})])},[],!1,null,"4178e1ea",null));St.options.__file="index.vue";var Dt=St.exports,Ct={props:{className:{type:String,default:""},text:{type:String,default:"vue-element-admin"}}},Et=(a("jAVV"),Object(h.a)(Ct,function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"link--mallki",class:this.className,attrs:{href:"#"}},[this._v("\n  "+this._s(this.text)+"\n  "),e("span",{attrs:{"data-letters":this.text}}),this._v(" "),e("span",{attrs:{"data-letters":this.text}})])},[],!1,null,null,null));Et.options.__file="Mallki.vue";var Ot={components:{PanThumb:Dt,Mallki:Et.exports},filters:{statusFilter:function(t){return{success:"success",pending:"danger"}[t]}},data:function(){return{statisticsData:{article_count:1024,pageviews_count:1024}}},computed:l()({},Object(u.b)(["name","avatar","roles"]))},zt=(a("n9Vi"),a("ucna"),Object(h.a)(Ot,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-card",{staticClass:"box-card-component",staticStyle:{"margin-left":"8px"}},[a("div",{staticClass:"box-card-header",attrs:{slot:"header"},slot:"header"},[a("img",{attrs:{src:"https://wpimg.wallstcn.com/e7d23d71-cf19-4b90-a1cc-f56af8c0903d.png"}})]),t._v(" "),a("div",{staticStyle:{position:"relative"}},[a("pan-thumb",{staticClass:"panThumb",attrs:{image:t.avatar}}),t._v(" "),a("mallki",{attrs:{"class-name":"mallki-text",text:"vue-element-admin"}}),t._v(" "),a("div",{staticClass:"progress-item",staticStyle:{"padding-top":"35px"}},[a("span",[t._v("Vue")]),t._v(" "),a("el-progress",{attrs:{percentage:70}})],1),t._v(" "),a("div",{staticClass:"progress-item"},[a("span",[t._v("JavaScript")]),t._v(" "),a("el-progress",{attrs:{percentage:18}})],1),t._v(" "),a("div",{staticClass:"progress-item"},[a("span",[t._v("Css")]),t._v(" "),a("el-progress",{attrs:{percentage:12}})],1),t._v(" "),a("div",{staticClass:"progress-item"},[a("span",[t._v("ESLint")]),t._v(" "),a("el-progress",{attrs:{percentage:100,status:"success"}})],1)],1)])},[],!1,null,"3dc6005a",null));zt.options.__file="BoxCard.vue";var Pt={newVisitis:{expectedData:[100,120,161,134,105,160,165],actualData:[120,82,91,154,162,140,145]},messages:{expectedData:[200,192,120,144,160,130,140],actualData:[180,160,151,106,145,150,130]},purchases:{expectedData:[80,100,121,104,105,90,100],actualData:[120,90,100,138,142,130,130]},shoppings:{expectedData:[130,140,141,142,145,150,160],actualData:[120,82,91,154,162,140,130]}},Ft={name:"DashboardAdmin",components:{GithubCorner:b,PanelGroup:J,LineChart:at,RaddarChart:rt,PieChart:lt,BarChart:dt,TransactionTable:ft,TodoList:wt,BoxCard:zt.exports,stl:a("tGiI").a},data:function(){return{lineChartData:Pt.newVisitis,dialogVisible:!1,mianfeiData:{name:"",order_numbers:""},overDueData:{code:"",date:"",exday:"",status:""},lineChartShow:!1,dialogKaiSu:!1,tableDataKuSu:[],kusuData:{taxation:0,freight:0},materialAllList:[],dialogPartEdit:!1,partNameArr:[],onePart:{},fullOrderShow:!1,manystlShow:!1,dialogDelManyPart:!1,dialogVisibleStl:!1,dialogVisibleDelParts:!1,kusupc:!1}},methods:{todayClick:function(){this.$store.commit("dayStatusChange","today")},sevenDayClick:function(){this.$store.commit("dayStatusChange","sevenday")},thirtyDayClick:function(){this.$store.commit("dayStatusChange","thirtyday")},jgxsEdit:function(t,e){var a=Number((Number(e.priceCopy)*Number(t)).toFixed(2));this.$set(e,"price",a)},initAllMateria:function(){var t=this;Object(D.d)().then(function(e){t.materialAllList=[];e.data;var a=!0,i=!1,r=void 0;try{for(var o,s=n()(e.data);!(a=(o=s.next()).done);a=!0){var l=o.value,u={};u.price=l.price*l.density,u.label=l.name,u.value=l.id,t.materialAllList.push(u)}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}}).catch(function(t){console.log(t),console.log("获取材质列表失败")})},handleSetLineChartData:function(t){this.lineChartData=Pt[t]},handleClose:function(){this.dialogVisible=!1,this.dialogKaiSu=!1},tishi:function(){var t=this;Object(Z.d)().then(function(e){var a=e.data;"3"==e.data.code?t.freeTishi():1==e.data.code?t.vipTishiOverDue(a):Math.abs(e.data.date)<30&&t.vipTishi(a)}).catch(function(t){})},freeTishi:function(){var t=this;Object(Z.b)().then(function(e){var a="您当前是免费用户有"+e.data.order_numbers+"订单数";/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)?t.$dialog.alert({message:a}):t.$message({message:a,type:"warning",duration:5e3})}).catch(function(t){})},vipTishiOverDue:function(t){var e=t.date+"过期";/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)?this.$dialog.alert({message:e}):this.$message({message:e,type:"warning",duration:5e3})},vipTishi:function(t){var e=" 已过期"+t.date;/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)?this.$dialog.alert({message:e}):this.$message({message:e,type:"warning",duration:5e3})},kuaisuDia:function(){this.tableDataKuSu=[],this.fullOrderShow=!1,this.dialogKaiSu=!0,this.kusuData={taxation:0,freight:0}},kusuBaojiadan:function(){var t=this,e={};(e=this.kusuData).parts=this.tableDataKuSu,Object(C.h)(e).then(function(e){window.open(e.data.path),t.$message({message:"报价单生成成功",type:"success"}),t.dialogKaiSu=!1}).catch(function(e){t.$message({message:e.response.data.message,type:"warning"})})},kusuSelectMate:function(t,e){var a=!0,i=!1,r=void 0;try{for(var o,s=n()(this.materialAllList);!(a=(o=s.next()).done);a=!0){var l=o.value;if(l.value==t){var u=Number((Number(l.price)*Number(e.volume_size.volume)*Number(e.coefficient)/1e3).toFixed(2));e.priceCopy=Number(l.price)*Number(e.volume_size.volume)/1e3,this.$set(e,"price",u),this.$set(e,"matname",l.label)}}}catch(t){i=!0,r=t}finally{try{!a&&s.return&&s.return()}finally{if(i)throw r}}},kusupartInfo:function(){if(this.onePart.material_id){var t=!0,e=!1,a=void 0;try{for(var i,r=n()(this.materialAllList);!(t=(i=r.next()).done);t=!0){var o=i.value;o.value==this.onePart.material_id&&(this.onePart.price=o.price,this.onePart.matname=o.label)}}catch(t){e=!0,a=t}finally{try{!t&&r.return&&r.return()}finally{if(e)throw a}}}else this.onePart.price=0},manyStl:function(){this.manystlShow=!0,this.onePart={},this.$set(this.onePart,"product_num",1),this.$set(this.onePart,"coefficient",1);var t={};this.$store.commit("stlImgChange",t),this.$store.commit("stlSizeChange",t),this.dialogVisibleStl=!0},manyPartEdit:function(){this.onePart={},this.dialogPartEdit=!0},delManyPart:function(){this.dialogDelManyPart=!0},delManyPartSure:function(){if(this.dialogDelManyPart=!1,this.fullOrderShow)for(var t=0;t<this.tableData1.length;t++){var e=!0,a=!1,i=void 0;try{for(var r,o=n()(this.partNameArr);!(e=(r=o.next()).done);e=!0){r.value==this.tableData1[t].name&&this.tableData1.splice(t,1)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}}else for(var s=0;s<this.tableDataKuSu.length;s++){var l=!0,u=!1,c=void 0;try{for(var d,h=n()(this.partNameArr);!(l=(d=h.next()).done);l=!0){d.value==this.tableDataKuSu[s].name&&this.tableDataKuSu.splice(s,1)}}catch(t){u=!0,c=t}finally{try{!l&&h.return&&h.return()}finally{if(u)throw c}}}},currentChangeKuSu:function(){},handleSelectionChangePart:function(t){this.partEditArr=t,this.partNameArr=[];var e=!0,a=!1,i=void 0;try{for(var r,o=n()(t);!(e=(r=o.next()).done);e=!0){var s=r.value;this.partNameArr.push(s.name)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}},handleCloseStl:function(){this.dialogVisibleStl=!1,this.dialogDelManyPart=!1,this.dialogPartEdit=!1},manyPartEditSure:function(){var t={};if(this.onePart.material_id){var e=!0,a=!1,i=void 0;try{for(var r,o=n()(this.materialAllList);!(e=(r=o.next()).done);e=!0){var s=r.value;s.value==this.onePart.material_id&&(this.onePart.price=s.price,this.onePart.matname=s.label)}}catch(t){a=!0,i=t}finally{try{!e&&o.return&&o.return()}finally{if(a)throw i}}t.material_id=this.onePart.material_id,t.matname=this.onePart.matname,t.price=this.onePart.price}else t.price=0,t.matname="",t.material_id="";this.onePart.product_num&&(t.product_num=this.onePart.product_num),this.onePart.coefficient&&(t.coefficient=this.onePart.coefficient);for(var l=0;l<this.tableDataKuSu.length;l++){var u=!0,c=!1,h=void 0;try{for(var p,m=n()(this.partNameArr);!(u=(p=m.next()).done);u=!0){if(p.value==this.tableDataKuSu[l].name){var f=d()({},this.tableDataKuSu[l],t);this.onePart.material_id&&(f.priceCopy=Number(Number(f.price)*Number(f.volume_size.volume)/1e3),f.price=Number((Number(f.price)*Number(f.volume_size.volume)*Number(f.coefficient)/1e3).toFixed(2))),this.$set(this.tableDataKuSu,l,f)}}}catch(t){c=!0,h=t}finally{try{!u&&m.return&&m.return()}finally{if(c)throw h}}}this.dialogPartEdit=!1},duqueStlMany:function(){this.kusupartInfo(),this.dialogVisibleStl=!1;var t=this.$store.state.stlData.stlImg,e=this.$store.state.stlData.stlSize,a=[];for(var i in t)for(var r in e)if(i==r){var o={};o.name=i,o.volume_size=e[i],o.diagram=t[i],a.push(o)}var s=this.onePart,l=!0,u=!1,c=void 0;try{for(var h,p=n()(a);!(l=(h=p.next()).done);l=!0){var m=h.value,f=!1,v=d()({},m,s);v.priceCopy=Number(v.price)*Number(v.volume_size.volume)/1e3,v.price=Number(v.price)*Number(v.volume_size.volume),v.price=Number((Number(v.price)*Number(v.coefficient)/1e3).toFixed(2));for(var g=0;g<this.tableDataKuSu.length;g++)v.name==this.tableDataKuSu[g].name&&(f=!0,this.$set(this.tableDataKuSu,g,v));f||this.tableDataKuSu.push(v)}}catch(t){u=!0,c=t}finally{try{!l&&p.return&&p.return()}finally{if(u)throw c}}this.manystlShow=!1},handleDeleteP:function(t,e){this.dialogVisibleDelParts=!0,this.delOnePartsIndex=t},delOnePartsSure:function(){this.fullOrderShow?this.tableData1.splice(this.delOnePartsIndex,1):this.tableDataKuSu.splice(this.delOnePartsIndex,1),this.dialogVisibleDelParts=!1}},created:function(){/Android|webOS|iPhone|BlackBerry/i.test(navigator.userAgent)?this.kusupc=!1:this.kusupc=!0,2==this.$store.state.stlData.tishiRiQi&&(this.tishi(),this.$store.commit("tishiRiQiChange","1"))},mounted:function(){var t=this;this.initAllMateria(),setTimeout(function(){t.lineChartShow=!0},1)}},Nt=(a("Mxfj"),Object(h.a)(Ft,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("el-dialog",{attrs:{title:"提示",visible:t.dialogVisible,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("span",[t._v("您现在是"+t._s(t.mianfeiData.name)+",有"+t._s(t.mianfeiData.order_numbers)+"个免费订单")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.dialogVisible=!1}}},[t._v("关闭")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"删除零件",visible:t.dialogVisibleDelParts,width:"30%","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogVisibleDelParts=e}}},[a("span",[t._v("你确定要删除该零件")]),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleDelParts=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.delOnePartsSure()}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"快速报价",visible:t.dialogKaiSu,width:"950px","before-close":t.handleClose},on:{"update:visible":function(e){t.dialogKaiSu=e}}},[a("el-row",{staticClass:"mb"},[a("el-button",{attrs:{type:"primary"},on:{click:t.manyStl}},[t._v("批量添加零件")]),t._v(" "),a("el-button",{attrs:{type:"warning"},on:{click:t.manyPartEdit}},[t._v("批量修改零件")]),t._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:t.delManyPart}},[t._v("批量删除零件")])],1),t._v(" "),a("el-row",{staticClass:"mb"},[a("el-table",{ref:"singleTable1",staticClass:"tb-edit",staticStyle:{width:"100%"},attrs:{data:t.tableDataKuSu,border:"","tooltip-effect":"dark","highlight-current-row":""},on:{"row-click":t.currentChangeKuSu,"selection-change":t.handleSelectionChangePart}},[a("el-table-column",{attrs:{type:"selection",width:"30",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{type:"index",label:"序号",width:"55",align:"center",fixed:""}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"名称",align:"center",width:"150",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"date-show"},[a("el-input",{staticStyle:{width:"110px"},model:{value:e.row.name,callback:function(a){t.$set(e.row,"name",a)},expression:"scope.row.name"}})],1),t._v(" "),a("span",[t._v(t._s(e.row.name))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"diagram",label:"简图",align:"center",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("img",{attrs:{src:e.row.diagram,alt:"",width:"200px"}}),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v("简图")])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"volume_size",label:"体积尺寸",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("div",[t._v("长 : "+t._s(e.row.volume_size.xx)+"mm 宽 : "+t._s(e.row.volume_size.zz)+"mm 高 : "+t._s(e.row.volume_size.yy)+"mm 体积 : "+t._s(e.row.volume_size.volume)+"mm³")]),t._v(" "),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[a("el-tag",{attrs:{size:"medium"}},[t._v("尺寸")])],1)])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"material_id",label:"成型材质",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-select",{attrs:{placeholder:"成型材质"},on:{change:function(a){t.kusuSelectMate(a,e.row)}},model:{value:e.row.material_id,callback:function(a){t.$set(e.row,"material_id",a)},expression:"scope.row.material_id"}},t._l(t.materialAllList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),t._v(" "),a("span",[t._v(t._s(e.row.matname))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"product_num",label:"数量(个)",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"date-show"},[a("el-input-number",{staticStyle:{width:"110px"},attrs:{"controls-position":"right",min:1},model:{value:e.row.product_num,callback:function(a){t.$set(e.row,"product_num",a)},expression:"scope.row.product_num"}})],1),t._v(" "),a("span",[t._v(t._s(e.row.product_num))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"price",label:"单价(元)",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n\t\t\t\t\t\t\t\t"+t._s(Number(e.row.price.toFixed(2)))+"\n\t\t\t\t\t\t\t")]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"coefficient",label:"价格系数",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"date-show"},[a("el-input-number",{staticStyle:{width:"110px"},attrs:{"controls-position":"right",min:.1,max:100},on:{change:function(a){t.jgxsEdit(a,e.row)}},model:{value:e.row.coefficient,callback:function(a){t.$set(e.row,"coefficient",a)},expression:"scope.row.coefficient"}})],1),t._v(" "),a("span",[t._v(t._s(Number(e.row.coefficient.toFixed(2))))])]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"hejiPrice",label:"合计(元)",align:"center",width:"130"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.price&&e.row.product_num&&e.row.coefficient?a("span",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(Number((Number(e.row.product_num)*Number(e.row.price)).toFixed(2)))+"\n   \t\t\t\t\t\t\t\n   \t\t\t\t\t\t\t")]):t._e(),t._v(" "),e.row.price&&e.row.product_num&&e.row.coefficient?t._e():a("span",[t._v("0")])]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.handleDeleteP(e.$index,e.row)}}},[t._v("删除")])]}}])})],1)],1),t._v(" "),a("el-row",[t._v("  \n   \t\t\t\t\t税费(元)  \n   \t\t\t\t\t\t"),a("el-input-number",{attrs:{precision:2,"controls-position":"right",min:0},model:{value:t.kusuData.taxation,callback:function(e){t.$set(t.kusuData,"taxation",e)},expression:"kusuData.taxation"}}),t._v(" \n   \t\t\t\t\t运费(元) \n   \t\t\t\t\t "),a("el-input-number",{attrs:{precision:2,"controls-position":"right",min:0},model:{value:t.kusuData.freight,callback:function(e){t.$set(t.kusuData,"freight",e)},expression:"kusuData.freight"}})],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.kusuBaojiadan}},[t._v("生成报价单")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"批量修改零件",visible:t.dialogPartEdit,width:"750px","before-close":t.handleCloseStl},on:{"update:visible":function(e){t.dialogPartEdit=e}}},[a("el-row",[a("el-form",{ref:"ruleFormPart",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.onePart,"label-width":"80px"}},[a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",[a("el-form-item",{attrs:{label:"零件数量",prop:"product_num"}},[a("el-input-number",{staticStyle:{width:"180px"},attrs:{"controls-position":"right",min:1},model:{value:t.onePart.product_num,callback:function(e){t.$set(t.onePart,"product_num",e)},expression:"onePart.product_num"}})],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"价格系数",prop:"coefficient"}},[a("el-input-number",{staticStyle:{width:"180px"},attrs:{precision:2,"controls-position":"right",min:.1,max:100},model:{value:t.onePart.coefficient,callback:function(e){t.$set(t.onePart,"coefficient",e)},expression:"onePart.coefficient"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",[a("el-form-item",{attrs:{label:"成型材质",prop:"material_id"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.onePart.material_id,callback:function(e){t.$set(t.onePart,"material_id",e)},expression:"onePart.material_id"}},t._l(t.materialAllList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogPartEdit=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.manyPartEditSure}},[t._v("确 定")])],1)],1),t._v(" "),a("el-dialog",{attrs:{title:"提示",visible:t.dialogDelManyPart,width:"400px","before-close":t.handleCloseStl},on:{"update:visible":function(e){t.dialogDelManyPart=e}}},[a("div",[t._v("你确定要删除已下这些零件")]),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},t._l(t.partNameArr,function(e,i){return a("span",[t._v(t._s(e)+"  |  ")])})),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogDelManyPart=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.delManyPartSure()}}},[t._v("确 定")])],1)]),t._v(" "),a("el-dialog",{attrs:{title:"批量添加零件",visible:t.dialogVisibleStl,width:"750px","before-close":t.handleCloseStl},on:{"update:visible":function(e){t.dialogVisibleStl=e}}},[t.manystlShow?a("div",[a("stl")],1):t._e(),t._v(" "),a("el-row",{staticStyle:{"margin-top":"10px"}},[a("el-form",{ref:"ruleFormPart",staticClass:"demo-form-inline",attrs:{inline:!0,model:t.onePart,"label-width":"80px"}},[t.fullOrderShow?a("el-row",{staticStyle:{"margin-bottom":"10px","font-size":"17px"}},[t._v("设置零件信息")]):t._e(),t._v(" "),a("el-row",[a("el-col",{attrs:{span:12}},[a("el-row",[a("el-form-item",{attrs:{label:"零件数量",prop:"product_num"}},[a("el-input-number",{staticStyle:{width:"180px"},attrs:{"controls-position":"right",min:1},model:{value:t.onePart.product_num,callback:function(e){t.$set(t.onePart,"product_num",e)},expression:"onePart.product_num"}})],1)],1),t._v(" "),a("el-row",[a("el-form-item",{attrs:{label:"价格系数",prop:"coefficient"}},[a("el-input-number",{staticStyle:{width:"180px"},attrs:{precision:2,"controls-position":"right",min:.1,max:100},model:{value:t.onePart.coefficient,callback:function(e){t.$set(t.onePart,"coefficient",e)},expression:"onePart.coefficient"}})],1)],1)],1),t._v(" "),a("el-col",{attrs:{span:12}},[a("el-row",[a("el-form-item",{attrs:{label:"成型材质",prop:"material_id"}},[a("el-select",{staticStyle:{width:"180px"},attrs:{placeholder:"请选择"},model:{value:t.onePart.material_id,callback:function(e){t.$set(t.onePart,"material_id",e)},expression:"onePart.material_id"}},t._l(t.materialAllList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})}))],1)],1)],1)],1)],1)],1),t._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisibleStl=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.duqueStlMany}},[t._v("确 定")])],1)],1),t._v(" "),t.kusupc?a("el-row",[a("el-button",{attrs:{type:"primary"},on:{click:t.kuaisuDia}},[t._v("快速生成报价单")])],1):t._e(),t._v(" "),a("panel-group",{on:{handleSetLineChartData:t.handleSetLineChartData}}),t._v(" "),t.lineChartShow?a("el-row",{staticStyle:{background:"#fff",padding:"16px 16px 0","margin-bottom":"32px"}},[a("div",{staticStyle:{"margin-bottom":"10px"}},[a("el-button",{attrs:{size:"small"},on:{click:t.todayClick}},[t._v("今天")]),a("el-button",{attrs:{size:"small"},on:{click:t.sevenDayClick}},[t._v("最近7天")]),a("el-button",{attrs:{size:"small"},on:{click:t.thirtyDayClick}},[t._v("最近30天")])],1),t._v(" "),a("line-chart",{attrs:{"chart-data":t.lineChartData}})],1):t._e()],1)},[],!1,null,"74bba14a",null));Nt.options.__file="index.vue";var jt=Nt.exports,Tt={name:"DashboardEditor",components:{PanThumb:Dt,GithubCorner:b},data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3"}},computed:l()({},Object(u.b)(["name","avatar","roles"]))},At=(a("BDBd"),Object(h.a)(Tt,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:" clearfix"},[a("pan-thumb",{staticStyle:{float:"left"},attrs:{image:t.avatar}},[t._v(" Your roles:\n      "),t._l(t.roles,function(e){return a("span",{key:e,staticClass:"pan-info-roles"},[t._v(t._s(e))])})],2),t._v(" "),a("github-corner",{staticStyle:{position:"absolute",top:"0px",border:"0",right:"0"}}),t._v(" "),a("div",{staticClass:"info-container"},[a("span",{staticClass:"display_name"},[t._v(t._s(t.name))]),t._v(" "),a("span",{staticStyle:{"font-size":"20px","padding-top":"20px",display:"inline-block"}},[t._v("Editor's Dashboard")])])],1),t._v(" "),a("div",[a("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},[],!1,null,"5a97a114",null));At.options.__file="index.vue";var $t=At.exports,Lt=a("p46w"),Bt=a.n(Lt),Ht={name:"Dashboard",components:{adminDashboard:jt,editorDashboard:$t},data:function(){return{currentRole:"adminDashboard"}},computed:l()({},Object(u.b)(["roles"])),created:function(){var t=Bt.a.get("pr_idArr");t=JSON.parse(t);var e=!1,a=!0,i=!1,r=void 0;try{for(var s,l=n()(t);!(a=(s=l.next()).done);a=!0){"admin"==s.value&&(e=!0)}}catch(t){i=!0,r=t}finally{try{!a&&l.return&&l.return()}finally{if(i)throw r}}e||this.$router.push({path:"/404"});var u=this.$store.state.stlData.loadingS;0!=o()(u)&&u.close(),this.roles.includes("admin")||(this.currentRole="editorDashboard")}},Mt=Object(h.a)(Ht,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-container"},[e(this.currentRole,{tag:"component"})],1)},[],!1,null,null,null);Mt.options.__file="index.vue";e.default=Mt.exports},lD00:function(t,e,a){"use strict";a.d(e,"j",function(){return n}),a.d(e,"k",function(){return r}),a.d(e,"g",function(){return o}),a.d(e,"i",function(){return s}),a.d(e,"h",function(){return l}),a.d(e,"a",function(){return u}),a.d(e,"m",function(){return c}),a.d(e,"l",function(){return d}),a.d(e,"n",function(){return h}),a.d(e,"e",function(){return p}),a.d(e,"d",function(){return m}),a.d(e,"w",function(){return f}),a.d(e,"u",function(){return v}),a.d(e,"v",function(){return g}),a.d(e,"f",function(){return _}),a.d(e,"z",function(){return b}),a.d(e,"x",function(){return y}),a.d(e,"y",function(){return x}),a.d(e,"c",function(){return w}),a.d(e,"t",function(){return k}),a.d(e,"r",function(){return S}),a.d(e,"s",function(){return D}),a.d(e,"b",function(){return C}),a.d(e,"q",function(){return E}),a.d(e,"o",function(){return O}),a.d(e,"p",function(){return z});var i=a("t3Un");function n(t){return Object(i.a)({url:"api/info/list",method:"get",params:t})}function r(t){return Object(i.a)({url:"api/custype/list",method:"get",params:t})}function o(t){var e=t;return Object(i.a)({url:"api/info/add",method:"post",data:e})}function s(t,e){var a=e;return Object(i.a)({url:"api/info/edit/"+t,method:"post",data:a})}function l(t,e){return Object(i.a)({url:"api/info/del/"+t,method:"get",params:e})}function u(t,e){return Object(i.a)({url:"api/info/dellxr/"+t,method:"get",params:e})}function c(t){var e=t;return Object(i.a)({url:"api/info/linkman/default",method:"post",data:e})}function d(t){var e=t;return Object(i.a)({url:"api/info/cutsomer/cancelbind",method:"post",data:e})}function h(t){var e=t;return Object(i.a)({url:"api/info/deles",method:"post",data:e})}function p(t){return Object(i.a)({url:"api/fastorder/material/listall",method:"get",params:t})}function m(t){return Object(i.a)({url:"api/info/material/listall",method:"get",params:t})}function f(t){return Object(i.a)({url:"api/info/material/list",method:"get",params:t})}function v(t){var e=t;return Object(i.a)({url:"api/info/material/add",method:"post",data:e})}function g(t,e){var a=e;return Object(i.a)({url:"api/info/material/edit/"+t,method:"post",data:a})}function _(t){return Object(i.a)({url:"api/info/moldi/listall",method:"get",params:t})}function b(t){return Object(i.a)({url:"api/info/moldi/list",method:"get",params:t})}function y(t){var e=t;return Object(i.a)({url:"api/info/moldi/add",method:"post",data:e})}function x(t,e){var a=e;return Object(i.a)({url:"api/info/moldi/edit/"+t,method:"post",data:a})}function w(t){return Object(i.a)({url:"api/info/surface/listall",method:"get",params:t})}function k(t){return Object(i.a)({url:"api/info/surface/list",method:"get",params:t})}function S(t){var e=t;return Object(i.a)({url:"api/info/surface/add",method:"post",data:e})}function D(t,e){var a=e;return Object(i.a)({url:"api/info/surface/edit/"+t,method:"post",data:a})}function C(t){return Object(i.a)({url:"api/info/equipment/listall",method:"get",params:t})}function E(t){return Object(i.a)({url:"api/info/equipment/list",method:"get",params:t})}function O(t){var e=t;return Object(i.a)({url:"api/info/equipment/add",method:"post",data:e})}function z(t,e){var a=e;return Object(i.a)({url:"api/info/equipment/edit/"+t,method:"post",data:a})}},mGkV:function(t,e,a){},n9Vi:function(t,e,a){"use strict";var i=a("sVod");a.n(i).a},obHA:function(t,e,a){},piJ4:function(t,e,a){},sVod:function(t,e,a){},"t/QI":function(t,e,a){"use strict";var i=a("obHA");a.n(i).a},tGiI:function(t,e,a){"use strict";var i,n,r,o,s,l=a("GQeE"),u=a.n(l),c={data:function(){return{allstl:{},allstlimg:{},arrLength:"",manyPercentage:0}},methods:{selectButton:function(){document.getElementById("file").value=null,document.getElementById("load").style.display="none",document.getElementById("loadend").style.display="none",document.getElementById("file").click(),this.manyPercentage=0},start:function(t){var e=this;this.allstl={},this.allstlimg={};var a=(t.target||window.event.srcElement).value;if("stl"==a.substring(a.lastIndexOf(".")+1)){document.getElementById("load").style.display="",document.getElementById("loadend").style.display="none";var i=document.getElementById("file").files;w=i.length,this.manyPercentage=Math.floor(30*Math.random()+1),setTimeout(function(){console.log("执行了"),e.manyPercentage=30+Math.floor(20*Math.random()+1);for(var t=0;t<i.length;t++){var a=i[t].name;s=i[t],e.init(a)}},500)}else alert("请选择STL格式文件！")},init:function(t,e){(i=0==d?new THREE.OrthographicCamera(window.innerWidth/-2,window.innerWidth/2,window.innerHeight/2,window.innerHeight/-2,1,1e4):new THREE.PerspectiveCamera(h,window.innerWidth/window.innerHeight,2,1e4)).position.set(p,m,f),i.up.set(b,y,x),n=new THREE.Vector3(v,g,_),i.lookAt(n),(r=new THREE.Scene).fog=new THREE.Fog(16777215,1,1e4);var a=new THREE.STLLoader,l=this,u=t.split(".")[0];a.load(s,function(t){(r=new THREE.Scene).fog=new THREE.Fog(16777215,1,1e4),r.add(new THREE.AmbientLight(3355443)),S(-1,1,1,16777215,1.35),S(1,-1,-1,16777215,1),(o=new THREE.WebGLRenderer({antialias:!0})).setClearColor(r.fog.color),o.setSize(800,600),o.gammaInput=!0,o.gammaOutput=!0,o.shadowMapEnabled=!0,o.shadowMapCullFace=THREE.CullFaceBack,window.addEventListener("resize",D,!1),t.center(),t.computeBoundingBox();for(var e=new THREE.MeshPhongMaterial({color:8421504,specular:1118481,shininess:200}),a=new THREE.Mesh(t,e),s=0,c=(new THREE.Geometry).fromBufferGeometry(a.geometry),d=0;d<c.faces.length;d++){var h=c.faces[d].a,p=c.faces[d].b,m=c.faces[d].c,f=new THREE.Vector3(c.vertices[h].x,c.vertices[h].y,c.vertices[h].z),w=new THREE.Vector3(c.vertices[p].x,c.vertices[p].y,c.vertices[p].z),C=new THREE.Vector3(c.vertices[m].x,c.vertices[m].y,c.vertices[m].z);new THREE.Triangle(C,w,f);s+=k(C,w,f)}var E,O,z;E=t.boundingBox.max.x-t.boundingBox.min.x,O=t.boundingBox.max.y-t.boundingBox.min.y,z=t.boundingBox.max.z-t.boundingBox.min.z;var P=parseInt(O),F=parseInt(E),N=parseInt(z),j={xx:F,yy:P,zz:N,volume:Math.abs(parseInt(s))};l.allstl[u]=j;var T=l.allstl;l.$store.commit("stlSizeChange",T),a.castShadow=!0,a.receiveShadow=!0,r.add(a),function(t,e,a,r){var o=Math.max(3*r.boundingBox.max.x,3*r.boundingBox.max.y,3*r.boundingBox.max.z);(i=new THREE.PerspectiveCamera(45,4/3,.1,1e4)).position.set(0,0,o),i.up.set(b,y,x),n=new THREE.Vector3(v,g,_),i.lookAt(n)}(0,0,0,t),l.animate(u)}),r.add(new THREE.AmbientLight(3355443)),S(-1,1,1,16777215,1.35),S(1,-1,-1,16777215,1),(o=new THREE.WebGLRenderer({antialias:!0})).setClearColor(r.fog.color),o.setSize(800,600),o.gammaInput=!0,o.gammaOutput=!0,o.shadowMapEnabled=!0,o.shadowMapCullFace=THREE.CullFaceBack,window.addEventListener("resize",D,!1)},animate:function(t){!function(t,e){o.render(r,i);var a=new Image,n=o.domElement.toDataURL("image/jpeg");a.src=n,t.allstlimg[e]=n;var s=t.allstlimg;t.$store.commit("stlImgChange",s);var l=u()(t.allstlimg).length,c=w-l;4==c&&(t.manyPercentage=60+Math.floor(8*Math.random()+1));3==c&&(t.manyPercentage=70+Math.floor(8*Math.random()+1));2==c&&(t.manyPercentage=80+Math.floor(8*Math.random()+1));1==c&&(t.manyPercentage=90+Math.floor(8*Math.random()+1));l==w&&(t.manyPercentage=100,document.getElementById("loadend").style.display="block",document.getElementById("load").style.display="none")}(this,t)}}},d=1,h=45,p=200,m=200,f=200,v=0,g=0,_=0,b=0,y=1,x=0,w=0;function k(t,e,a){return 1/6*(t.x*e.y*a.z+a.x*t.y*e.z+e.x*a.y*t.z-a.x*e.y*t.z-e.x*t.y*a.z-t.x*a.y*e.z)}function S(t,e,a,i,n){var o=new THREE.DirectionalLight(i,n);o.position.set(t,e,a),r.add(o)}function D(){i.aspect=window.innerWidth/window.innerHeight,i.updateProjectionMatrix(),o.setSize(window.innerWidth,window.innerHeight)}var C=c,E=(a("t/QI"),a("KHd+")),O=Object(E.a)(C,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{attrs:{id:"wrap"}},[a("div",{staticClass:"loti"},[a("div",{staticClass:"lotiwrap"},[a("div",{attrs:{id:"box"}},[a("div",{attrs:{id:"select"}},[a("el-row",{staticStyle:{display:"flex","align-items":"center"}},[a("el-col",{attrs:{span:5}},[a("el-button",{on:{click:t.selectButton}},[t._v("选择stl文件")])],1),t._v(" "),a("el-col",{attrs:{span:18}},[a("div",{staticStyle:{display:"none"},attrs:{id:"load"}},[t._v("  加载中!请不要关闭窗口")]),t._v(" "),a("div",{staticStyle:{display:"none"},attrs:{id:"loadend"}},[t._v("  加载结束")])])],1),t._v(" "),a("input",{staticClass:"file ",staticStyle:{display:"none"},attrs:{type:"file",id:"file",accept:"stl",multiple:"multiple"},on:{change:function(e){t.start(e)}}})],1),t._v(" "),a("div",{staticStyle:{"margin-top":"10px"}},[a("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.manyPercentage}})],1)])])])])])},[],!1,null,"4913260c",null);O.options.__file="stl.vue";e.a=O.exports},ucna:function(t,e,a){"use strict";var i=a("CmVR");a.n(i).a}}]);